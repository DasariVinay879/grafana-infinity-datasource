{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/wiki/node-graph/","result":{"data":{"site":{"siteMetadata":{"title":"Grafana Infinity Datasource","description":"Do infinite things with Grafana. Turn any website into beautiful grafana dashboards. Supports HTML, CSV, JSON, XML & GraphQL documents.","socialImage":"https://user-images.githubusercontent.com/153843/92741922-03491380-f377-11ea-9c31-9a744afd3388.png","website":"https://yesoreyeram.github.io/grafana-infinity-datasource"}},"markdownRemark":{"html":"<p>You can generate Node graph panel data with <code>CSV</code>, <code>JSON</code> or <code>XML</code> feature of Infinity data source.</p>\n<p><img src=\"https://user-images.githubusercontent.com/153843/139112671-dee6a9aa-5165-4526-bc8a-7ce36c45181e.png#center\" alt=\"image\"></p>\n<p>From v0.8.0, we have out of the box support for node graph. Prior to v0.8.0, you can use \"Table\" format to create node graph with limited options.</p>\n<p>Irrespective of the version, you need two queries to form a Node graph visualization.</p>\n<ol>\n<li>First query which lists the nodes. Should have mandatory <code>id</code> and <code>title</code> field. This also can have additional <code>arc__*</code> fields to specify the arcs value for the node.</li>\n<li>Second query which list the edges (relations). Should have three mandatory fields namely <code>id</code>, <code>source</code> and <code>target</code></li>\n</ol>\n<p>Read more about the node graph data structure <a href=\"https://grafana.com/docs/grafana/latest/visualizations/node-graph/\">here</a></p>\n<h2>Node Graph format</h2>\n<p>From v0.8.0, infinity plugin have dedicated support for node graphs. You need to create two different queries with the format of <code>nodes</code> and <code>edges</code> for each query.</p>\n<h3>Nodes</h3>\n<p>Nodes query should have following fields.</p>\n<ul>\n<li>id*</li>\n<li>title</li>\n<li>subTitle</li>\n<li>arc__*</li>\n<li>detail__*</li>\n</ul>\n<p>If you have any <code>arc__*</code> field, corresponding value (number) will be used as the nodes arc value. Note : Total value of row item should sum to 1. If you need to specify a color for the <code>arc__*</code> field, add a new field called <code>arc__*_color</code>.</p>\n<h3>Edges</h3>\n<p>Edges query should have following fields.</p>\n<ul>\n<li>id*</li>\n<li>source*</li>\n<li>target*</li>\n<li>detail__*</li>\n</ul>\n<p>works same as <strong>Nodes</strong>. But doesn't support <code>arc__*</code> fields.</p>\n<h2>Example</h2>\n<p>Below is an example of nodes query</p>\n<p><img src=\"https://user-images.githubusercontent.com/153843/139114480-bd5c8571-4374-4ec0-8af0-224cc73ba3d8.png#center\" alt=\"image\"></p>\n<p>Below is an example of edges query</p>\n<p><img src=\"https://user-images.githubusercontent.com/153843/139114526-5ffabaf1-7722-4205-9347-9496a9485306.png#center\" alt=\"image\"></p>\n<p>Corresponding Node Graph is given below</p>\n<p><img src=\"https://user-images.githubusercontent.com/153843/139114591-2203f878-bb7d-4111-aaac-fe3bbc99bd6b.png#center\" alt=\"image\"></p>\n<p>Corresponding CSV data is given below</p>\n<p>Nodes :</p>\n<deckgo-highlight-code language=\"csv\" terminal=\"carbon\" theme=\"vscode\"  >\n          <code slot=\"code\">id,title,sub-title,cpu,memory,c_disk_size,d,c_disk_size color,d color,detail__hello\nA,Server A,Application Server,12,10,0.1,0.9,blue,red,world\nB,Server B,DB Server,90,87,0.1,0.9,blue,red,hello\nC,Server C,Application Server,20,23,0.20,0.80,blue,red,hello\nD,Server D,Middleware Server,47,98,0.90,0.10,blue,red,world</code>\n        </deckgo-highlight-code>\n<p>Edges :</p>\n<deckgo-highlight-code language=\"csv\" terminal=\"carbon\" theme=\"vscode\"  >\n          <code slot=\"code\">id,source,target,mainStat,secondaryStat,detail__one\n1,A,B,30,mb/s,abc\n2,A,C,20,mb/s,def\n3,B,D,24.2,mb/s,ghi</code>\n        </deckgo-highlight-code>\n<blockquote>\n<p>Some of the fields of the CSV doesn't match the node graph format. So we used column alias to match the exact field. Also for CSV format, number formats needs to set explicitly. Otherwise, they will be rendered as string.</p>\n</blockquote>\n<p>finally, the panel json looks like this</p>\n<deckgo-highlight-code language=\"json\" terminal=\"carbon\" theme=\"vscode\"  >\n          <code slot=\"code\">{\n  &quot;id&quot;: 23763571993,\n  &quot;gridPos&quot;: {\n    &quot;h&quot;: 19,\n    &quot;w&quot;: 24,\n    &quot;x&quot;: 0,\n    &quot;y&quot;: 0\n  },\n  &quot;type&quot;: &quot;nodeGraph&quot;,\n  &quot;title&quot;: &quot;Panel Title&quot;,\n  &quot;datasource&quot;: &quot;Infinity&quot;,\n  &quot;pluginVersion&quot;: &quot;8.2.0&quot;,\n  &quot;targets&quot;: [\n    {\n      &quot;columns&quot;: [\n        {\n          &quot;selector&quot;: &quot;id&quot;,\n          &quot;text&quot;: &quot;&quot;,\n          &quot;type&quot;: &quot;string&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;title&quot;,\n          &quot;text&quot;: &quot;&quot;,\n          &quot;type&quot;: &quot;string&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;sub-title&quot;,\n          &quot;text&quot;: &quot;subTitle&quot;,\n          &quot;type&quot;: &quot;string&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;cpu&quot;,\n          &quot;text&quot;: &quot;mainStat&quot;,\n          &quot;type&quot;: &quot;number&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;memory&quot;,\n          &quot;text&quot;: &quot;secondaryStat&quot;,\n          &quot;type&quot;: &quot;number&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;c_disk_size&quot;,\n          &quot;text&quot;: &quot;arc__cpu&quot;,\n          &quot;type&quot;: &quot;number&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;d&quot;,\n          &quot;text&quot;: &quot;arc__memory&quot;,\n          &quot;type&quot;: &quot;number&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;c_disk_size color&quot;,\n          &quot;text&quot;: &quot;arc__cpu_color&quot;,\n          &quot;type&quot;: &quot;string&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;d color&quot;,\n          &quot;text&quot;: &quot;arc__memory_color&quot;,\n          &quot;type&quot;: &quot;string&quot;\n        },\n        {\n          &quot;selector&quot;: &quot;detail__hello&quot;,\n          &quot;text&quot;: &quot;&quot;,\n          &quot;type&quot;: &quot;string&quot;\n        }\n      ],\n      &quot;data&quot;: &quot;id,title,sub-title,cpu,memory,c_disk_size,d,c_disk_size color,d color,detail__hello\\nA,Server A,Application Server,12,10,0.1,0.9,blue,red,world\\nB,Server B,DB Server,90,87,0.1,0.9,blue,red,hello\\nC,Server C,Application Server,20,23,0.20,0.80,blue,red,hello\\nD,Server D,Middleware Server,47,98,0.90,0.10,blue,red,world&quot;,\n      &quot;filters&quot;: [],\n      &quot;format&quot;: &quot;node-graph-nodes&quot;,\n      &quot;global_query_id&quot;: &quot;&quot;,\n      &quot;refId&quot;: &quot;A&quot;,\n      &quot;root_selector&quot;: &quot;&quot;,\n      &quot;source&quot;: &quot;inline&quot;,\n      &quot;type&quot;: &quot;csv&quot;,\n      &quot;url&quot;: &quot;&quot;,\n      &quot;url_options&quot;: {\n        &quot;data&quot;: &quot;&quot;,\n        &quot;method&quot;: &quot;GET&quot;\n      }\n    },\n    {\n      &quot;columns&quot;: [],\n      &quot;data&quot;: &quot;id,source,target,mainStat,secondaryStat,detail__one\\n1,A,B,30,mb/s,abc\\n2,A,C,20,mb/s,def\\n3,B,D,24.2,mb/s,ghi&quot;,\n      &quot;filters&quot;: [],\n      &quot;format&quot;: &quot;node-graph-edges&quot;,\n      &quot;global_query_id&quot;: &quot;&quot;,\n      &quot;hide&quot;: false,\n      &quot;refId&quot;: &quot;B&quot;,\n      &quot;root_selector&quot;: &quot;&quot;,\n      &quot;source&quot;: &quot;inline&quot;,\n      &quot;type&quot;: &quot;csv&quot;,\n      &quot;url&quot;: &quot;&quot;,\n      &quot;url_options&quot;: {\n        &quot;data&quot;: &quot;&quot;,\n        &quot;method&quot;: &quot;GET&quot;\n      }\n    }\n  ]\n}</code>\n        </deckgo-highlight-code>","frontmatter":{"slug":"/wiki/node-graph","title":"Node Graph","previous_page_title":"JSON","previous_page_slug":"/wiki/json","next_page_title":"CSV","next_page_slug":"/wiki/csv"}}},"pageContext":{"id":"38575a03-636d-57b9-807d-708c59af3316","frontmatter__slug":"/wiki/node-graph","__params":{"frontmatter__slug":"wiki"}}},"staticQueryHashes":["561970757"]}